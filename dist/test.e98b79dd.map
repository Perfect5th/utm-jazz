{"version":3,"sources":["note.js","node_modules/web-audio-oscillators/dist/sine.js","node_modules/web-audio-oscillators/dist/square.js","node_modules/web-audio-oscillators/dist/sawtooth.js","node_modules/web-audio-oscillators/dist/triangle.js","node_modules/web-audio-oscillators/dist/chiptune.js","node_modules/web-audio-oscillators/dist/organ.js","node_modules/web-audio-oscillators/dist/organ2.js","node_modules/web-audio-oscillators/dist/bass.js","node_modules/web-audio-oscillators/dist/brass.js","node_modules/@mohayonao/wave-tables/index.js","node_modules/web-audio-oscillators/dist/index.js","jazz.js","test.js"],"names":["Note","frequency","tied","AudioContext","window","webkitAudioContext","Jazz","oscillatorTypes","oscillators","playing","secondsPerNote","noteLength","attack","staff","context","createOscillators","i","length","stem","oscillator","gainNode","createGain","type","connect","destination","start","setNotes","push","creationMethod","createTone","bind","createTiedTone","createRest","gain","linearRampToValueAtTime","setValueAtTime","stop","o","currentTime","suspend","document","addEventListener","jazz","hertzStaff","notesStaff","map","note","Array","isArray","querySelector","play"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAqBA,OACnB;AACA;AACA,cAAYC,SAAZ,EAAqC;AAAA,MAAdC,IAAc,uEAAP,KAAO;;AAAA;;AACnC,OAAKD,SAAL,GAAiBA,SAAjB;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACD;;;;ACNH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC3FA;;;;;;;;;;AAEA,IAAMC,YAAY,GAAGC,MAAM,CAACD,YAAP,IAAuBC,MAAM,CAACC,kBAAnD;;IAEqBC;;;AACnB;AACA,gBAAYC,eAAZ,EAA6B;AAAA;;AAC3B,SAAKA,eAAL,GAAuBA,eAAvB;AAEA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,OAAL,GAAe,KAAf;AAEA,SAAKC,cAAL,GAAsB,IAAtB;AACA,SAAKC,UAAL,GAAkB,GAAlB;AACA,SAAKC,MAAL,GAAc,GAAd;AACD,IAED;AACA;AACA;;;;;yBACKC,OAAO;AACV,WAAKC,OAAL,GAAe,IAAIX,YAAJ,EAAf;AACA,WAAKY,iBAAL,CAAuBF,KAAvB;AAEA,WAAKJ,OAAL,GAAe,IAAf;AACD,MAED;AACA;AACA;;;;sCACkBI,OAAO;AACvB,WAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,YAAME,IAAI,GAAGL,KAAK,CAACG,CAAD,CAAlB;;AACA,YAAMG,UAAU,GAAGX,6BAAY,KAAKD,eAAL,CAAqBS,CAArB,CAAZ,EAAqC,KAAKF,OAA1C,CAAnB;;AACA,YAAMM,QAAQ,GAAG,KAAKN,OAAL,CAAaO,UAAb,EAAjB;AAEAF,QA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","file":"test.e98b79dd.map","sourceRoot":"../jazz","sourcesContent":["export default class Note {\n  // REQUIRES: frequency, positive float\n  //           tied, boolean: if the note is tied to the next note\n  constructor(frequency, tied = false) {\n    this.frequency = frequency;\n    this.tied = tied;\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Source: https://www.w3.org/TR/webaudio/#oscillator-coefficients\n\nvar imag = exports.imag = Array.from({ length: 8192 }, function (_, n) {\n  return n === 1 ? 1 : 0;\n});\n\nvar real = exports.real = imag.map(function () {\n  return 0;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Source: https://www.w3.org/TR/webaudio/#oscillator-coefficients\n\nvar imag = exports.imag = Array.from({ length: 8192 }, function (_, n) {\n  return n === 0 ? 0 : 2 / (n * Math.PI) * (1 - Math.pow(-1, n));\n});\n\nvar real = exports.real = imag.map(function () {\n  return 0;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Source: https://www.w3.org/TR/webaudio/#oscillator-coefficients\n\nvar imag = exports.imag = Array.from({ length: 8192 }, function (_, n) {\n  return n === 0 ? 0 : Math.pow(-1, n + 1) * (2 / (n * Math.PI));\n});\n\nvar real = exports.real = imag.map(function () {\n  return 0;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Source: https://www.w3.org/TR/webaudio/#oscillator-coefficients\n\nvar imag = exports.imag = Array.from({ length: 8192 }, function (_, n) {\n  return n === 0 ? 0 : 8 * Math.sin(n * Math.PI / 2) / Math.pow(Math.PI * n, 2);\n});\n\nvar real = exports.real = imag.map(function () {\n  return 0;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Source: https://github.com/chipbell4/nes-sequencer\n\nvar real = exports.real = Array.from({ length: 8192 }, function (_, n) {\n  return n === 0 ? 0 : 4 / (n * Math.PI) * Math.sin(Math.PI * n * 0.18);\n});\n\nvar imag = exports.imag = real.map(function () {\n  return 0;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar imag = exports.imag = [0, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, 1];\n\nvar real = exports.real = imag.map(function () {\n  return 0;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar real = exports.real = [0, 0.8, 0.6, 0.6, 0.7, 0.6, 0, 0.8, 0.3, 1];\n\nvar imag = exports.imag = real.map(function () {\n  return 0;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar real = exports.real = [0, 1, 0.8144329896907216, 0.20618556701030927, 0.020618556701030927];\n\nvar imag = exports.imag = real.map(function () {\n  return 0;\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Source: https://www.sitepoint.com/using-fourier-transforms-web-audio-api/#synthesizing-a-horn\n\nvar real = exports.real = [0, 0.4, 0.4, 1, 1, 1, 0.3, 0.7, 0.6, 0.5, 0.9, 0.8];\n\nvar imag = exports.imag = real.map(function () {\n  return 0;\n});","module.exports = {\n  \"Bass\": require(\"./Bass.json\"),\n  \"BassAmp360\": require(\"./BassAmp360.json\"),\n  \"BassFuzz\": require(\"./BassFuzz.json\"),\n  \"BassFuzz2\": require(\"./BassFuzz2.json\"),\n  \"BassSubDub\": require(\"./BassSubDub.json\"),\n  \"BassSubDub2\": require(\"./BassSubDub2.json\"),\n  \"Brass\": require(\"./Brass.json\"),\n  \"BritBlues\": require(\"./BritBlues.json\"),\n  \"BritBluesDriven\": require(\"./BritBluesDriven.json\"),\n  \"Buzzy1\": require(\"./Buzzy1.json\"),\n  \"Buzzy2\": require(\"./Buzzy2.json\"),\n  \"Celeste\": require(\"./Celeste.json\"),\n  \"ChorusStrings\": require(\"./ChorusStrings.json\"),\n  \"Dissonant1\": require(\"./Dissonant1.json\"),\n  \"Dissonant2\": require(\"./Dissonant2.json\"),\n  \"DissonantPiano\": require(\"./DissonantPiano.json\"),\n  \"DroppedSaw\": require(\"./DroppedSaw.json\"),\n  \"DroppedSquare\": require(\"./DroppedSquare.json\"),\n  \"DynaEPBright\": require(\"./DynaEPBright.json\"),\n  \"DynaEPMed\": require(\"./DynaEPMed.json\"),\n  \"Ethnic33\": require(\"./Ethnic33.json\"),\n  \"Full1\": require(\"./Full1.json\"),\n  \"Full2\": require(\"./Full2.json\"),\n  \"GuitarFuzz\": require(\"./GuitarFuzz.json\"),\n  \"Harsh\": require(\"./Harsh.json\"),\n  \"MklHard\": require(\"./MklHard.json\"),\n  \"Noise\": require(\"./Noise.json\"),\n  \"Organ2\": require(\"./Organ2.json\"),\n  \"Organ3\": require(\"./Organ3.json\"),\n  \"PhonemeAh\": require(\"./PhonemeAh.json\"),\n  \"PhonemeBah\": require(\"./PhonemeBah.json\"),\n  \"PhonemeEe\": require(\"./PhonemeEe.json\"),\n  \"PhonemeO\": require(\"./PhonemeO.json\"),\n  \"PhonemeOoh\": require(\"./PhonemeOoh.json\"),\n  \"PhonemePopAhhhs\": require(\"./PhonemePopAhhhs.json\"),\n  \"Piano\": require(\"./Piano.json\"),\n  \"Pulse\": require(\"./Pulse.json\"),\n  \"PutneyWavering\": require(\"./PutneyWavering.json\"),\n  \"Saw\": require(\"./Saw.json\"),\n  \"Square\": require(\"./Square.json\"),\n  \"TB303Square\": require(\"./TB303Square.json\"),\n  \"Throaty\": require(\"./Throaty.json\"),\n  \"Triangle\": require(\"./Triangle.json\"),\n  \"Trombone\": require(\"./Trombone.json\"),\n  \"TwelveOpTines\": require(\"./TwelveOpTines.json\"),\n  \"TwelveStringGuitar1\": require(\"./TwelveStringGuitar1.json\"),\n  \"WarmSaw\": require(\"./WarmSaw.json\"),\n  \"WarmSquare\": require(\"./WarmSquare.json\"),\n  \"WarmTriangle\": require(\"./WarmTriangle.json\"),\n  \"Wurlitzer\": require(\"./Wurlitzer.json\"),\n  \"Wurlitzer2\": require(\"./Wurlitzer2.json\")\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _sine = require(\"./sine\");\n\nvar sine = _interopRequireWildcard(_sine);\n\nvar _square = require(\"./square\");\n\nvar square = _interopRequireWildcard(_square);\n\nvar _sawtooth = require(\"./sawtooth\");\n\nvar sawtooth = _interopRequireWildcard(_sawtooth);\n\nvar _triangle = require(\"./triangle\");\n\nvar triangle = _interopRequireWildcard(_triangle);\n\nvar _chiptune = require(\"./chiptune\");\n\nvar chiptune = _interopRequireWildcard(_chiptune);\n\nvar _organ = require(\"./organ\");\n\nvar organ = _interopRequireWildcard(_organ);\n\nvar _organ2 = require(\"./organ2\");\n\nvar organ2 = _interopRequireWildcard(_organ2);\n\nvar _bass = require(\"./bass\");\n\nvar bass = _interopRequireWildcard(_bass);\n\nvar _brass = require(\"./brass\");\n\nvar brass = _interopRequireWildcard(_brass);\n\nvar _waveTables = require(\"@mohayonao/wave-tables\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports.default = Object.entries({\n  sine: sine,\n  square: square,\n  square2: _waveTables.DroppedSquare,\n  sawtooth: sawtooth,\n  triangle: triangle,\n  triangle2: _waveTables.WarmTriangle,\n  chiptune: chiptune,\n  organ: organ,\n  organ2: organ2,\n  organ3: _waveTables.Organ2,\n  organ4: _waveTables.Organ3,\n  organ5: _waveTables.Dissonant2,\n  bass: bass,\n  bass2: _waveTables.Bass,\n  bass3: _waveTables.BassSubDub,\n  bass4: _waveTables.BassFuzz2,\n  brass: brass,\n  brass2: _waveTables.Trombone,\n  aah: _waveTables.PhonemeAh,\n  ooh: _waveTables.PhonemeOoh,\n  eeh: _waveTables.PhonemeEe,\n  buzz: _waveTables.Buzzy1,\n  buzz2: _waveTables.DynaEPBright,\n  dissonance: _waveTables.DissonantPiano\n}).reduce(function (obj, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      type = _ref2[0],\n      coefficients = _ref2[1];\n\n  return Object.assign(obj, _defineProperty({}, type, createOscillator.bind(null, coefficients)));\n}, {});\n\n\nfunction createOscillator(_ref3, ctx) {\n  var real = _ref3.real,\n      imag = _ref3.imag;\n\n  var oscillator = ctx.createOscillator();\n  oscillator.setPeriodicWave(ctx.createPeriodicWave(Float32Array.from(real), Float32Array.from(imag)));\n  return oscillator;\n}","import oscillators from 'web-audio-oscillators';\n\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\n\nexport default class Jazz {\n  // REQUIRES: ocsillatorTypes array of String oscillator types\n  constructor(oscillatorTypes) {\n    this.oscillatorTypes = oscillatorTypes;\n\n    this.oscillators = [];\n    this.playing = false;\n\n    this.secondsPerNote = 0.25;\n    this.noteLength = 0.9;\n    this.attack = 0.1;\n  }\n\n  // REQUIRES: a 2D musical staff: a collection of Notes\n  // MODIFIES: this\n  // EFFECTS: plays the musical staff to the default destination (speakers)\n  play(staff) {\n    this.context = new AudioContext();\n    this.createOscillators(staff);\n\n    this.playing = true;\n  }\n\n  // REQUIRES: a 2D musical staff: a collection of Hz values\n  // MODIFIES: this\n  // EFFECTS: creates oscillators for each stem and attaches them context\n  createOscillators(staff) {\n    for (let i = 0; i < staff.length; i++) {\n      const stem = staff[i];\n      const oscillator = oscillators[this.oscillatorTypes[i]](this.context);\n      const gainNode = this.context.createGain();\n\n      oscillator.type = this.oscillatorTypes[i];\n      oscillator.gainNode = gainNode;\n      oscillator.connect(gainNode).connect(this.context.destination);\n      oscillator.start();\n\n      this.setNotes(oscillator, stem);\n      this.oscillators.push(oscillator);\n    }\n  }\n\n  // REQUIRES: unstarted oscillator, stem: array of Hz values\n  // MODIFIES: this\n  // EFFECTS: applies notes from stem to oscillator with proper timing\n  setNotes(oscillator, stem) {\n    for (let i = 0; i < stem.length; i++) {\n      let creationMethod = this.createTone.bind(this);\n\n      if (stem[i].tied) {\n        creationMethod = this.createTiedTone.bind(this);\n      }\n\n      if (stem[i].frequency === 0) {\n        creationMethod = this.createRest.bind(this);\n      }\n\n      creationMethod(oscillator, stem[i].frequency, i);\n    }\n\n    this.createRest(oscillator, 0, stem.length);\n  }\n\n  // REQUIRES: oscillator, frequency: float, i: position\n  // MODIFIES: oscillator\n  // EFFECTS: adds an un-tied note tone to the oscillator\n  createTone(oscillator, frequency, i) {\n    const {gain} = oscillator.gainNode;\n\n    gain.linearRampToValueAtTime(0.001, i * this.secondsPerNote);\n    gain.linearRampToValueAtTime(1, (i + this.attack) * this.secondsPerNote);\n    gain.setValueAtTime(1, (i + this.noteLength) * this.secondsPerNote);\n    oscillator.frequency.setValueAtTime(frequency, i * this.secondsPerNote);\n    oscillator.stop((i + 1) * this.secondsPerNote);\n  }\n\n  createTiedTone(oscillator, frequency, i) {\n    const {gain} = oscillator.gainNode;\n\n    oscillator.frequency.setValueAtTime(frequency, i * this.secondsPerNote);\n    gain.setValueAtTime(1, (i + this.noteLength) * this.secondsPerNote);\n    oscillator.stop((i + 1) * this.secondsPerNote);\n  }\n\n  // REQUIRES: oscillator, i: position\n  // MODIFIES: oscillator\n  // EFFECTS: adds silence/rest to the oscillator\n  createRest(oscillator, frequency, i) {\n    const {gain} = oscillator.gainNode;\n\n    gain.linearRampToValueAtTime(0.01, i * this.secondsPerNote);\n    oscillator.stop((i + 1) * this.secondsPerNote);\n  }\n\n  // MODIFIES: this\n  // EFFECTS: stops the current playback\n  stop() {\n    for (const o of this.oscillators) {\n      o.stop(this.context.currentTime);\n    }\n\n    this.oscillators = [];\n\n    if (this.context) {\n      this.context.suspend();\n    }\n\n    this.playing = false;\n  }\n}\n","import Note from './note';\nimport Jazz from './jazz';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Testing the player now\n  const jazz = new Jazz(['chiptune', 'triangle']);\n\n  const hertzStaff = [\n    [\n      329.6276,\n      [329.6276, true],\n      329.6276,\n      [329.6276, true],\n      349.2282,\n      [349.2282, true],\n      391.9954,\n      [391.9954, true],\n      391.9954,\n      [391.9954, true],\n      349.2282,\n      [349.2282, true],\n      329.6276,\n      [329.6276, true],\n      293.6648,\n      [293.6648, true],\n      261.6256,\n      [261.6256, true],\n      261.6256,\n      [261.6256, true],\n      293.6648,\n      [293.6648, true],\n      329.6276,\n      [329.6276, true],\n      329.6276,\n      [329.6276, true],\n      [329.6276, true],\n      293.6648,\n      293.6648,\n      [293.6648, true],\n      [293.6648, true],\n      [293.6648, true]\n    ],\n    [\n      [110.0000, true],\n      110.0000,\n      [110.0000, true],\n      110.0000,\n      [123.4708, true],\n      123.4708,\n      [130.8128, true],\n      130.8128,\n      [130.8128, true],\n      130.8128,\n      [123.4708, true],\n      123.4708,\n      [110.0000, true],\n      110.0000,\n      [146.8324, true],\n      146.8324,\n      [130.8128, true],\n      130.8128,\n      [130.8128, true],\n      130.8128,\n      [146.8324, true],\n      146.8324,\n      164.8138,\n      164.8138,\n      [164.8138, true],\n      [164.8138, true],\n      [164.8138, true],\n      [164.8138, true]\n    ]\n  ];\n\n  const notesStaff = hertzStaff.map(stem => {\n    return stem.map(note => {\n      if (Array.isArray(note)) {\n        return new Note(note[0], note[1]);\n      }\n\n      return new Note(note);\n    });\n  });\n\n  document.querySelector('#start')\n    .addEventListener('click', () => {\n      jazz.stop();\n      jazz.play(notesStaff);\n    });\n\n  document.querySelector('#stop').addEventListener('click', () => jazz.stop());\n});\n"]}